(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{8326:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guide/chess/map/SpeciesHover",function(){return n(4428)}])},8567:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(3347),u=n(2101),i=n(7877),c=function(t){var e=new r.M9;return e.species=t,e.handleItems_Main=function(){!function(){var n={filter:{speciesId:t._id}};i.Z.getdata(i.Z.url,n,(function(t){!function(t){e.items=t.map((function(t){var n=r.fg.getobject(i.Z,t);return n.dict=e,n}))}(t)}))}()},e},o=n(8949);function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function l(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?a(t):e}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var y=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function d(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var u=f(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return l(this,n)}}var h=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(l,t);var e,n,i,f=d(l);function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=f.call(this)).update=function(t){e.setPropData([{field:t,value:e[t]}],!0)},e.name="New species",e.type="RACE",e.avatarUrl=void 0,e.parameters=[],e.synergy=["synery ..."],e.deleteOnUI=function(){e.list.splice(e.index,1),e.dict.refresh_filteredItems()},e.dict=t,(0,o.makeObservable)(a(e),{type:o.observable,avatarUrl:o.observable,parameters:o.observable,synergy:o.observable}),e}return e=l,i=[{key:"testdata",get:function(){return[{name:"Goblin",parameters:["MAX_HP_PERCENT","ATTACK_PERCENT","STACK"],synergy:"If any melle ally dies, increases max HP by %MAX_HP_PERCENT%, ATK by %ATTACK_PERCENT% for all alied Kiras, can be stacked %STACK% times."},{name:"Elf"}].map((function(t){return r.fg.getobject(l,t)}))}}],(n=[{key:"url",get:function(){return l.url}},{key:"createFields",get:function(){return[u.name,u.type,u.parameters,u.synergy]}},{key:"chessQuantityDict",get:function(){var t;return null!==(t=this._chessQuantityDict)&&void 0!==t?t:this._chessQuantityDict=c(this)}}])&&s(e.prototype,n),i&&s(e,i),l}(r.ck);h.url="/api/species"},2101:function(t,e,n){"use strict";n.r(e),n.d(e,{avatarUrl:function(){return c},list:function(){return s},lore:function(){return u},name:function(){return r},parameters:function(){return o},synergy:function(){return a},td_css:function(){return l},title:function(){return f},type:function(){return i}});var r="name",u="lore",i="type",c="avatarUrl",o="parameters",a="synergy",s=function(){return[u,a]},f=function(t){switch(t){case r:return"Name";case i:return"Type";case c:return"Avatar";case u:return"Lore";case o:return"Parameters";case a:return"Synergy"}},l=function(t){switch(t){case r:return"min-w-[150px]";case c:return"min-w-[150px] max-w-[150px]";case o:return"min-w-[270px]";case a:return"w-full";default:return""}}},2867:function(t,e,n){"use strict";n.d(e,{Zj:function(){return u.Z},BC:function(){return i},Do:function(){return r}});var r={};n.r(r),n.d(r,{CLASS:function(){return o},RACE:function(){return c},list:function(){return a},title:function(){return s}});var u=n(8567),i=n(2101),c="RACE",o="CLASS",a=function(){return[c,o]},s=function(t){switch(t){case c:return"RACE";case o:return"CLASS"}}},7877:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(3347),u=n(4808);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function o(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}var s=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var u=c(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return o(this,n)}}var l=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,t);var e,n,c,o=f(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).quantity=1,e.parameters={},e.updateParameters=function(){e.setPropData([{field:u.parameters,value:e.parameters}],!0)},e.dict=t,e}return e=s,c=[{key:"testdata",get:function(){return[{quantity:2,MAX_HP:.15,ATTACK:.2,STACK:6}].map((function(t){return r.fg.getobject(s,t)}))}}],(n=[{key:"url",get:function(){return s.url}},{key:"createFields",get:function(){return[u.speciesId,u.quantity,u.parameters]}},{key:"speciesId",get:function(){var t;return null!==(t=this._speciesId)&&void 0!==t?t:this._speciesId=this.species._id},set:function(t){this._speciesId=t}},{key:"species",get:function(){var t;return null!==(t=this._species)&&void 0!==t?t:this._species=this.dict.species}},{key:"synergy",get:function(){var t=this,e=this.species.synergy,n=this.species.parameters;return e=e.map((function(e){var r=t;return n.forEach((function(t){e=e.replaceAll(t.fullkey,function(t,e,n){var r,u=!1;return t.species.parameters.map((function(t){return t.key})).forEach((function(n){u||e.includes(n)&&(r=t.parameters[n],u=!0)})),r="VALUE"===n?r:Math.round(100*r),"VALUE"===n?r.toString():"".concat(r,"%")}(r,t.key,t.type))})),e}))}}])&&i(e.prototype,n),c&&i(e,c),s}(r.ck);l.url="/api/chess-quantity"},4808:function(t,e,n){"use strict";n.r(e),n.d(e,{list:function(){return c},parameters:function(){return i},quantity:function(){return u},speciesId:function(){return r},td_css:function(){return a},title:function(){return o}});var r="speciesId",u="quantity",i="parameters",c=function(){return[u,i]},o=function(t){switch(t){case u:return"Number";case i:return"Parameters"}},a=function(t){switch(t){case u:return"w-[100px]";case i:return"w-full";default:return""}}},6023:function(t,e,n){"use strict";n.d(e,{y3:function(){return r.Z},dS:function(){return a},SS:function(){return o}});var r=n(7877),u=n(5893),i=n(1217),c=n(3347),o=(0,i.Pi)((function(t){var e=t.store;return(0,u.jsxs)("div",{className:"flex items-start",children:[(0,u.jsx)("span",{className:"mr-2 rounded-full bg-blue-400 mt-1 _py-1 px-2 text-white",children:e.quantity}),(0,u.jsx)("span",{className:"mt-1 flex flex-col",children:e.synergy.map((function(t){return(0,u.jsx)("span",{className:"pb-1",children:t},c.fg.randomInt())}))})]})})),a=n(4808)},8696:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(8949);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.key="NEW_PARAM",this.type="VALUE",(0,r.makeObservable)(this,{type:r.observable})}var e,n,i;return e=t,(n=[{key:"fullkey",get:function(){return"%".concat(this.key).concat("VALUE"===this.type?"":"_PERCENT","%")}}])&&u(e.prototype,n),i&&u(e,i),t}()},4428:function(t,e,n){"use strict";n.r(e);var r=n(5893),u=n(7294),i=n(3347),c=n(2867),o=n(6023),a=n(9323),s=n(8696),f=n(5675),l=n.n(f);e.default=(0,a.observer)((function(t){var e,n=t._id,a=(0,u.useState)(),f=a[0],p=a[1];return(0,u.useEffect)((function(){n&&(0,i.hi)().get("".concat(c.Zj.url,"/get/").concat(n)).then((function(t){var e=[{key:c.BC.parameters,convert:function(t){return t.map((function(t){return i.fg.getobject(s.Z,t)}))}}],n=i.fg.getobject(c.Zj,t.data.data[0],e);p(n)}))}),[n]),(0,r.jsx)(r.Fragment,{children:f&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"h-fit flex flex-row items-center bg-blue-400 -my-1.5 -mx-2 px-3.5",children:[(0,r.jsx)(l(),{src:f.avatarUrl||"https://static.ilongyuan.cn/official_website/e52b47a8c88/69485fb0c8a01d003e0ec684e1312f84.png",width:31,height:31,alt:f.name}),(0,r.jsx)("span",{className:"ml-2 text-white font-medium",children:f.name})]}),(0,r.jsx)("div",{className:"py-4 px-2",children:null===(e=null===f||void 0===f?void 0:f.chessQuantityDict.filteredItems)||void 0===e?void 0:e.map((function(t){return(0,r.jsx)("div",{className:"my-1.5",children:(0,r.jsx)(o.SS,{store:t})},t.id)}))})]})})}))}},function(t){t.O(0,[675,774,888,179],(function(){return e=8326,t(t.s=e);var e}));var e=t.O();_N_E=e}]);